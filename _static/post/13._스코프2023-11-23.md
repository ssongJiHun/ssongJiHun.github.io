---
template : "post"
title : "13. 스코프"
category : ""
tags : "딥다이브"
created: "2023-11-23"
---

## 스코프란?


모든 식별자(변수 이름, 함수 이름, 클래스 이름 등)는 자신이 선언된 위치에 의해 다른 코드가 식별자 **자신을 참조할 수 있는 유효 범위**가 결정된다.
즉, 스코프는 **식별자가 유효한 범위**를 말하며, 식별자를 **검색하는** **규칙**이고 **네임 스페이스**이다.


### 식별자 결정


자바스크립트 엔진은 이름이 같은 두 개의 중에서 어떤 변수를 참조해야 할 것인지를 결정하는 것이다.  자바스크립트 엔진은 스코프 체인을 통해 참조할 변수를 검색한다,


```javascript
var x = 'global';

function foo() {
	var x ='local';
	console.log(x); // expected : 'local'
}

console.log(x); // expected : 'global'
```


### 지역과 지역 스코프


지역이란 함수 몸체 내부를 말한다. 지역에 변수를 선언하면 지역 스코프를 가지는 지역 변수가 된다.


지역 변수는 자신의 지역 스코프와 하위 지역 스코프에서 유효하다. 상위 지역 스코프에서 하위 지역 스코프의 지역 변수를 참조하면 참조 에러가 발생한다. 
반대로 하위 지역 스코프에서 상위 지역 스코프의 지역 변수를 참조할 수 있다.


### 스코프 체인


함수 몸체 내부에서 함수가 정의된 것을 함수의 중첩이라고 한다. 그리고 함수 몸체 내부에서 정의한 함수를 중첩 함수라고 한다.


```javascript
// 함수의 중첩 예제
// 전역 스코프
var x = 'global';
function outer() { // 외부 함수 (outer)
  var x = 'outer';
	// outer 지역 스코프 (중첩 함수의 상위 스코프)
	function inner() { // 중첩 함수 (inner)
		// inner 지역 스코프
		var x = 'inner';
	}
}
```


함수는 위의 예제처럼 중첩이 될 수 있으므로 **함수의 지역 스코프도 중첩**이 될 수 있다.
이는 스코프가 **함수의 중첩에 의해 계층적 구조**를 갖는다는 것을 의미한다.


![Untitled.png](data:image/png;base64,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)


이처럼 스코프는 **하나의 계층적 구조**로 연결되며,  **계층적으로 연결된 것을 스코프 체인**이라고 한다. 
스코프 체인은 **물리적인 실체로 존재**하며 위 그림과 유사한 **자료구조인 렉시컬 환경**을 실제로 생성한다. 


모든 지역 변수의 **최상위 스코프**는 **전역 스코프**이다.


### 스코프 체인에 의한 변수 검색


변수 선언이 실행되면 **변수 식별자가 이 자료구조(렉시컬 환경)에 키로 등록**되고, **변수 할당이 일어나면 이 자료구조의 변수 식별자에 해당하는 값을 변경**한다. 
변수의 검색도 이 자료구조 상에서 이뤄진다.


자바스크립트 엔진은 스코프 체인을 통해 **변수를 참조하는** **코드의 스코프에서 시작**하여 **상위 스코프 방향**으로 이동하며 절대 **하위 스코프로 내려가면서 식별자를 검색하는 일은 없다.**



이는 상위 스코프에서 유효한 변수는 하위 스코프에서 자유롭게 참조할 수 있지만 **하위 스코프에서 유효한 변수를 상위 스코프에서 참조할 수 없다는 것**을 의미한다.


### 스코프 체인에 의한 함수 검색


함수 선언문으로 정의하면 런타임 이전에 함수 객체가 먼저 생성되고 자바스크립트 엔진은 함수 이름과 동일한 식별자를 암묵적으로 선언하고 생성된 함수 객체를 할당한다.


함수도 **식별자에 할당되기 때문에 스코프를 갖고**, 식별자에 함수 객체가 할당된 것 외에는 **일반 변수와 다를 바가 없다.**


### 블록 레벨 스코프


대부분의 프로그래밍 언어는 **함수 몸체만이 아니라 모든 코드 블럭**(if, for, while, try/catch 등)이 **지역 스코프**를 만든다. 이러한 특성을 **블록 레벨 스코프**라 한다. 


ES6에서 도입된 `let` `const` 키워드는 블록 레벨 스코프를 지원하지만 `var` 키워드로 선언된 변수는 아니다.


### 함수 레벨 스코프


 `var` 키워드로 선언된 변수는 오로지 **함수의 코드 블록(함수 몸체)**만을 지역으로 인정한다.
이러한 특성을 **함수 레벨 스코프**라 한다.


때문에 `var` 키워드로 선언된 변수는 코드 블럭 내에서 선언되었다 할지라도 모두 전역 변수다.


### 렉시컬 스코프


변수 선언 시점(런타임 이전)에 렉시컬 환경에 키로 등록된다고 했다.


함수 정의가 **평가되는 시점**(런타임 이전)에 **상위 스코프가 정적으로 결정**되는 것을 **렉시컬 스코프** 또는 **정적 스코프**라고 한다. 


함수를 어디서 호출했는지가 아닌, **함수를 어디서 정의했는지에 따라** 결정되고, 함수 정의(선언문 또는 표현식)가 실행되어 생성된 **함수 객체는** **상위 스코프를 기억**한다. 함수가 호출 될 때마다 함수의 상위 스코프를 참조할 필요가 있기 때문이다.

